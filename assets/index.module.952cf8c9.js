var A=Object.defineProperty;var l=(t,e)=>A(t,"name",{value:e,configurable:!0});import{b as O,d as R,a as E,_ as h,f as K}from"./index.module.64f33489.js";import{r as n}from"./index.e2094f73.js";import{a as y}from"./index.module.cc19915e.js";import{R as N}from"./index.1805eea2.js";function H(t,e=globalThis==null?void 0:globalThis.document){const s=O(t);n.exports.useEffect(()=>{const o=l(r=>{r.key==="Escape"&&s(r)},"handleKeyDown");return e.addEventListener("keydown",o),()=>e.removeEventListener("keydown",o)},[s,e])}l(H,"$addc16e1bbe58fd0$export$3a72a57244d6e765");const m="dismissableLayer.update",M="dismissableLayer.pointerDownOutside",X="dismissableLayer.focusOutside";let C;const F=n.exports.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),j=n.exports.forwardRef((t,e)=>{var s;const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:p,onInteractOutside:u,onDismiss:f,...v}=t,c=n.exports.useContext(F),[d,W]=n.exports.useState(null),b=(s=d==null?void 0:d.ownerDocument)!==null&&s!==void 0?s:globalThis==null?void 0:globalThis.document,[,B]=n.exports.useState({}),S=R(e,i=>W(i)),g=Array.from(c.layers),[_]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),k=g.indexOf(_),D=d?g.indexOf(d):-1,U=c.layersWithOutsidePointerEventsDisabled.size>0,P=D>=k,z=G(i=>{const $=i.target,T=[...c.branches].some(x=>x.contains($));!P||T||(a==null||a(i),u==null||u(i),i.defaultPrevented||f==null||f())},b),w=J(i=>{const $=i.target;[...c.branches].some(x=>x.contains($))||(p==null||p(i),u==null||u(i),i.defaultPrevented||f==null||f())},b);return H(i=>{D===c.layers.size-1&&(r==null||r(i),!i.defaultPrevented&&f&&(i.preventDefault(),f()))},b),n.exports.useEffect(()=>{if(!!d)return o&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(C=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),L(),()=>{o&&c.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=C)}},[d,b,o,c]),n.exports.useEffect(()=>()=>{!d||(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),L())},[d,c]),n.exports.useEffect(()=>{const i=l(()=>B({}),"handleUpdate");return document.addEventListener(m,i),()=>document.removeEventListener(m,i)},[]),n.exports.createElement(E.div,h({},v,{ref:S,style:{pointerEvents:U?P?"auto":"none":void 0,...t.style},onFocusCapture:y(t.onFocusCapture,w.onFocusCapture),onBlurCapture:y(t.onBlurCapture,w.onBlurCapture),onPointerDownCapture:y(t.onPointerDownCapture,z.onPointerDownCapture)}))}),q=n.exports.forwardRef((t,e)=>{const s=n.exports.useContext(F),o=n.exports.useRef(null),r=R(e,o);return n.exports.useEffect(()=>{const a=o.current;if(a)return s.branches.add(a),()=>{s.branches.delete(a)}},[s.branches]),n.exports.createElement(E.div,h({},t,{ref:r}))});function G(t,e=globalThis==null?void 0:globalThis.document){const s=O(t),o=n.exports.useRef(!1),r=n.exports.useRef(()=>{});return n.exports.useEffect(()=>{const a=l(u=>{if(u.target&&!o.current){let v=function(){I(M,s,f,{discrete:!0})};l(v,"handleAndDispatchPointerDownOutsideEvent");const f={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=v,e.addEventListener("click",r.current,{once:!0})):v()}o.current=!1},"handlePointerDown"),p=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(p),e.removeEventListener("pointerdown",a),e.removeEventListener("click",r.current)}},[e,s]),{onPointerDownCapture:()=>o.current=!0}}l(G,"$5cb92bef7577960e$var$usePointerDownOutside");function J(t,e=globalThis==null?void 0:globalThis.document){const s=O(t),o=n.exports.useRef(!1);return n.exports.useEffect(()=>{const r=l(a=>{a.target&&!o.current&&I(X,s,{originalEvent:a},{discrete:!1})},"handleFocus");return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,s]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}l(J,"$5cb92bef7577960e$var$useFocusOutside");function L(){const t=new CustomEvent(m);document.dispatchEvent(t)}l(L,"$5cb92bef7577960e$var$dispatchUpdate");function I(t,e,s,{discrete:o}){const r=s.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});e&&r.addEventListener(t,e,{once:!0}),o?K(r,a):r.dispatchEvent(a)}l(I,"$5cb92bef7577960e$var$handleAndDispatchCustomEvent");const ne=j,se=q,oe=n.exports.forwardRef((t,e)=>{var s;const{container:o=globalThis==null||(s=globalThis.document)===null||s===void 0?void 0:s.body,...r}=t;return o?N.createPortal(n.exports.createElement(E.div,h({},r,{ref:e})),o):null}),Q=n.exports.forwardRef((t,e)=>n.exports.createElement(E.span,h({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),re=Q;export{se as $,Q as a,ne as b,oe as c,j as d,re as e};
//# sourceMappingURL=index.module.952cf8c9.js.map
