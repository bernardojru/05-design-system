var x=Object.defineProperty;var u=(e,n)=>x(e,"name",{value:n,configurable:!0});import{r as c}from"./index.e2094f73.js";import{b as A,d as h,c as v}from"./index.module.64f33489.js";import{r as b}from"./index.1805eea2.js";function I(e,n,{checkForDefaultPrevented:s=!0}={}){return u(function(o){if(e==null||e(o),s===!1||!o.defaultPrevented)return n==null?void 0:n(o)},"handleEvent")}u(I,"$e42e1063c40fb3ef$export$b9ecd428b558ff10");function R({prop:e,defaultProp:n,onChange:s=u(()=>{},"onChange")}){const[t,o]=P({defaultProp:n,onChange:s}),a=e!==void 0,l=a?e:t,d=A(s),i=c.exports.useCallback(r=>{if(a){const f=typeof r=="function"?r(e):r;f!==e&&d(f)}else o(r)},[a,e,o,d]);return[l,i]}u(R,"$71cd76cc60e0454e$export$6f32135080cb4c3");function P({defaultProp:e,onChange:n}){const s=c.exports.useState(e),[t]=s,o=c.exports.useRef(t),a=A(n);return c.exports.useEffect(()=>{o.current!==t&&(a(t),o.current=t)},[t,o,a]),s}u(P,"$71cd76cc60e0454e$var$useUncontrolledState");function M(e,n){return c.exports.useReducer((s,t)=>{const o=n[s][t];return o!=null?o:s},e)}u(M,"$fe963b355347cc68$export$3e6543de14f8614f");const O=u(e=>{const{present:n,children:s}=e,t=T(n),o=typeof s=="function"?s({present:t.isPresent}):c.exports.Children.only(s),a=h(t.ref,o.ref);return typeof s=="function"||t.isPresent?c.exports.cloneElement(o,{ref:a}):null},"$921a889cee6df7e8$export$99c2b779aa4e8b8b");O.displayName="Presence";function T(e){const[n,s]=c.exports.useState(),t=c.exports.useRef({}),o=c.exports.useRef(e),a=c.exports.useRef("none"),l=e?"mounted":"unmounted",[d,i]=M(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.exports.useEffect(()=>{const r=N(t.current);a.current=d==="mounted"?r:"none"},[d]),v(()=>{const r=t.current,m=o.current;if(m!==e){const $=a.current,p=N(r);e?i("MOUNT"):p==="none"||(r==null?void 0:r.display)==="none"?i("UNMOUNT"):i(m&&$!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,i]),v(()=>{if(n){const r=u(f=>{const p=N(t.current).includes(f.animationName);f.target===n&&p&&b.exports.flushSync(()=>i("ANIMATION_END"))},"handleAnimationEnd"),m=u(f=>{f.target===n&&(a.current=N(t.current))},"handleAnimationStart");return n.addEventListener("animationstart",m),n.addEventListener("animationcancel",r),n.addEventListener("animationend",r),()=>{n.removeEventListener("animationstart",m),n.removeEventListener("animationcancel",r),n.removeEventListener("animationend",r)}}else i("ANIMATION_END")},[n,i]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:c.exports.useCallback(r=>{r&&(t.current=getComputedStyle(r)),s(r)},[])}}u(T,"$921a889cee6df7e8$var$usePresence");function N(e){return(e==null?void 0:e.animationName)||"none"}u(N,"$921a889cee6df7e8$var$getAnimationName");export{R as $,I as a,O as b};
//# sourceMappingURL=index.module.cc19915e.js.map
